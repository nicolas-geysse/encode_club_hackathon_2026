---
phase: 08-visual-polish
plan: 02
type: execute
wave: 1
depends_on: []
files_modified:
  - packages/frontend/src/components/chat/OnboardingChat.tsx
autonomous: true

must_haves:
  truths:
    - "Bruno avatar has animated orbital rings pulsing around it"
    - "Animation is subtle breathing effect (scale + opacity oscillation)"
    - "Avatar remains centered and functional"
  artifacts:
    - path: "packages/frontend/src/components/chat/OnboardingChat.tsx"
      provides: "Bruno avatar with orbital pulse animation container"
      contains: "orbital-pulse"
  key_links:
    - from: "Bruno avatar div"
      to: "Orbital ring elements"
      via: "Container with relative positioning and z-index layering"
      pattern: "orbital-ring|orbital-pulse"
---

<objective>
Add orbital pulse breathing animation to Bruno avatar in the onboarding sidebar.

Purpose: Static avatar feels lifeless. Orbital pulse animation adds visual interest and makes Bruno feel more alive/interactive.
Output: Bruno avatar with 3 concentric orbital rings that pulse with staggered timing.
</objective>

<execution_context>
@/home/nico/.claude/get-shit-done/workflows/execute-plan.md
@/home/nico/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@packages/frontend/src/components/chat/OnboardingChat.tsx (lines 2400-2410)
</context>

<tasks>

<task type="auto">
  <name>Task 1: Add orbital pulse animation to Bruno avatar</name>
  <files>packages/frontend/src/components/chat/OnboardingChat.tsx</files>
  <action>
Locate the Bruno avatar section (around line 2402-2405). Current code:

```tsx
<div class="w-24 h-24 rounded-full bg-gradient-to-br from-primary to-primary/60 flex items-center justify-center text-white text-3xl font-bold shadow-xl ring-4 ring-background mb-4">
  B
</div>
```

Replace with an orbital pulse container structure. Add inline keyframe animation using a style tag or Tailwind arbitrary values.

**New structure:**

```tsx
{/* Bruno Avatar with Orbital Pulse */}
<div class="relative w-28 h-28 flex items-center justify-center mb-4">
  {/* Orbital Rings */}
  <div
    class="absolute w-[104px] h-[104px] rounded-full border border-primary/30"
    style={{
      animation: 'orbital-pulse 3s ease-in-out infinite',
      'animation-delay': '0s'
    }}
  />
  <div
    class="absolute w-[116px] h-[116px] rounded-full border border-primary/20"
    style={{
      animation: 'orbital-pulse 3s ease-in-out infinite',
      'animation-delay': '0.5s'
    }}
  />
  <div
    class="absolute w-[128px] h-[128px] rounded-full border border-primary/10"
    style={{
      animation: 'orbital-pulse 3s ease-in-out infinite',
      'animation-delay': '1s'
    }}
  />

  {/* Bruno Avatar (centered, above rings) */}
  <div class="relative z-10 w-24 h-24 rounded-full bg-gradient-to-br from-primary to-primary/60 flex items-center justify-center text-white text-3xl font-bold shadow-xl ring-4 ring-background">
    B
  </div>
</div>
```

**Add the keyframe animation** by adding a style element near the top of the component (inside the return, before the main div). Use a global style injection pattern:

Add this just inside the component return, before the outer div:

```tsx
<style>{`
  @keyframes orbital-pulse {
    0%, 100% {
      transform: scale(0.95);
      opacity: 0.3;
    }
    50% {
      transform: scale(1.05);
      opacity: 0.7;
    }
  }
`}</style>
```

Alternatively, if the project has a global CSS file, add the keyframe there. But inline style tag is cleaner for component-scoped animations.

**Ring sizes explanation:**
- Avatar: 96px (w-24)
- Ring 1: 104px (8px larger, close to avatar)
- Ring 2: 116px (12px gap)
- Ring 3: 128px (12px gap)
- Container: 112px (w-28) to contain the rings with some margin
  </action>
  <verify>
1. Check orbital ring elements exist:
```bash
grep -q "orbital-pulse" packages/frontend/src/components/chat/OnboardingChat.tsx && echo "PASS: Orbital animation added"
```

2. Check ring elements exist:
```bash
grep -q "rounded-full border border-primary" packages/frontend/src/components/chat/OnboardingChat.tsx && echo "PASS: Ring elements added"
```

3. Visual verification: Run dev server, navigate to onboarding, observe Bruno avatar:
   - 3 concentric rings should pulse around the avatar
   - Rings have staggered timing (0s, 0.5s, 1s delays)
   - Scale oscillates between 0.95 and 1.05
   - Opacity oscillates between 0.3 and 0.7
  </verify>
  <done>
Bruno avatar displays with 3 orbital rings that pulse with breathing animation effect
  </done>
</task>

</tasks>

<verification>
1. Visual check: Bruno avatar has 3 visible concentric rings
2. Visual check: Rings animate with breathing pulse effect (scale + opacity)
3. Visual check: Rings have staggered animation timing
4. Visual check: Avatar "B" remains centered and readable
5. No TypeScript errors: `pnpm --filter @stride/frontend typecheck`
</verification>

<success_criteria>
- Bruno avatar wrapped in container with 3 orbital ring divs
- Rings have `orbital-pulse` animation with 3s duration
- Staggered animation delays: 0s, 0.5s, 1s
- Avatar remains centered with z-10 to appear above rings
- Animation is subtle and not distracting
</success_criteria>

<output>
After completion, create `.planning/phases/08-visual-polish/08-02-SUMMARY.md`
</output>
